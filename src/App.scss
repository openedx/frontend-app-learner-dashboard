// frontend-app-*/src/index.scss
@use "@openedx/paragon/styles/css/core/custom-media-breakpoints" as paragonCustomMediaBreakpoints;

$fa-font-path: "~font-awesome/fonts";
@import "~font-awesome/scss/font-awesome";

$input-focus-box-shadow: var(--pgn-elevation-form-input-base); // hack to get upgrade to paragon 4.0.0 to work

@import "~@edx/frontend-component-header/dist/index";
@import "~@edx/frontend-component-footer/dist/_footer";

.text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.alert.alert-info .alert-icon {
  color: black;
}

#root {
  // Removing a odd 1.5 scaling on checkboxes.:
  input[type=checkbox] {
    transform: none;
  }
  display: flex;
  flex-direction: column;
  min-height: 100vh;

  main {
    flex-grow: 1;
  }

  header {
    flex: 0 0 auto;

    .logo {
      display: block;
      box-sizing: content-box;
      position: relative;
      top: 0.1em;
      height: 1.75rem;
      margin-right: 1rem;
      img {
        display: block;
        height: 100%;
      }
    }
  }

  footer {
    flex: 0;
  }
}

#paragon-portal-root {
  .pgn__modal-layer {
    .pgn__modal-close-container {
      right: 1rem !important;
    }
  }
  .confirm-modal .pgn__modal-body {
    overflow: hidden;
  }
}

// BLUE VENOM INJECTION: Apply #0092c2 to interactive elements

// Buttons
.btn, .pgn__button {
  // Exclude buttons that typically have their own semantic colors (danger, warning, success, info)
  // Also exclude known non-themed buttons like 'close' or icon buttons if they exist and shouldn't be blue.
  &:not(.btn-danger):not(.pgn__button--danger):not(.btn-warning):not(.pgn__button--warning):not(.btn-success):not(.pgn__button--success):not(.btn-info):not(.pgn__button--info):not(.close):not([class*="btn-icon"]) {
    background-color: #0092c2 !important;
    border-color: #0092c2 !important;
    color: #ffffff !important;

    &:hover, &:focus, &:active {
      background-color: darken(#0092c2, 10%) !important;
      border-color: darken(#0092c2, 12%) !important;
      color: #ffffff !important;
    }

    // For link-styled buttons that should also be blue text
    &.btn-link, &.pgn__button--link {
      background-color: transparent !important;
      border-color: transparent !important;
      color: #0092c2 !important;

      &:hover, &:focus, &:active {
        background-color: transparent !important;
        border-color: transparent !important;
        color: darken(#0092c2, 10%) !important;
        text-decoration: underline !important;
      }
    }
  }

  // Ensure primary buttons are explicitly styled if they were missed by the general rule,
  // or to override any more specific default styles.
  &.btn-primary, &.pgn__button--primary {
    background-color: #0092c2 !important;
    border-color: #0092c2 !important;
    color: #ffffff !important;

    &:hover, &:focus, &:active {
      background-color: darken(#0092c2, 10%) !important;
      border-color: darken(#0092c2, 12%) !important;
      color: #ffffff !important;
    }
  }
}

// Tabs
// Paragon specific tab selectors might be needed if these general ones don't catch them.
.nav-tabs {
  .nav-link.active, .nav-item.show .nav-link {
    color: #0092c2 !important;
    border-color: #dee2e6 #dee2e6 #0092c2 !important; // Active tab bottom border
  }
  .nav-link:hover {
    border-color: #e9ecef #e9ecef #0092c2 !important;
  }
}

// Links - more subtle application for general links, or could be more aggressive.
// For now, focusing on buttons and tabs as primary interactive elements.
// a {
//   color: #0092c2;
//   &:hover {
//     color: darken(#0092c2, 10%);
//   }
// }

// Silence Peripheral Widgets - ensure widget cards don't have conflicting backgrounds
.sidebar-column {
  .pgn__card {
    background-color: transparent !important; // Bleach their backgrounds
    border: none !important; // Remove borders if they exist, to blend more
    box-shadow: none !important; // Remove shadows if they exist
  }

  // If widgets are not using .pgn__card but a generic .card
  .card {
    background-color: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }
}
